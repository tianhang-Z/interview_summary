## 腾讯pcg实习一面

k个一组反转链表的变种

### tcp连接断开之后还会保持吗

TCP 使用四次挥手（Four-way Handshake）来正常关闭连接：

1. **客户端发送 FIN 包**：客户端调用 `close()`，发送 FIN 包，进入 **FIN_WAIT_1** 状态
2. **服务器回应 ACK**：服务器接收 FIN，发送 ACK，进入 **CLOSE_WAIT** 状态
3. **服务器发送 FIN 包**：服务器完成数据发送后，发送 FIN 包，进入 **LAST_ACK** 状态
4. **客户端回应 ACK**：客户端接收 FIN，发送 ACK，进入 **TIME_WAIT** 状态

##### TIME_WAIT 状态

当 TCP 连接正常关闭后，主动关闭方会进入 **TIME_WAIT** 状态，并在这个状态保持 **2MSL**（Maximum Segment Lifetime，最大报文生存时间）的时间。

- **2MSL 通常为 2-4 分钟**（不同操作系统可能不同）
- Linux 默认是 60 秒

##### 为什么需要 TIME_WAIT 状态？

1. **确保最后的 ACK 能到达对方**：如果最后一个 ACK 丢失，对方会重发 FIN，此时可以重发 ACK
2. **防止旧连接的延迟数据干扰新连接**：等待足够长的时间，确保所有在网络中的旧连接数据包都消失

### reserve预分配内存10之后，可以直接在8处insert吗？

insert的位置不可以超过size-1，不然会segmentation fault

### push_back和insert的区别

xxxxxxxxxx template <typename Derived>class Base {public:    void interface() {        // 调用派生类的实现        static_cast<Derived*>(this)->implementation();    }        void implementation() {        std::cout << "Base implementation\n";    }};​class Derived : public Base<Derived> {public:    void implementation() {        std::cout << "Derived implementation\n";    }};cpp

- **push_back()**: 总是在容器末尾添加元素
- **insert()**: 在指定位置插入元素，需要提供迭代器指定插入位置

效率上

- **push_back()**: 通常效率更高，特别是对于 `vector` 来说，尾部插入是 O(1) 操作（除非需要扩容）
- **insert()**: 可能需要移动插入点后的所有元素，对于 `vector` 和 `deque` 等容器，在中间位置插入是 O(n) 操作。后移操作时O(n)的

返回值

- **push_back()**: 无返回值（void）
- **insert()**: 返回指向新插入元素的迭代器

## 腾讯广告工程部一面

手撕ok

八股：

#### 构造函数 手写一下

#### 对于多态行为的父类和子类 父类指针指向子类时 如何用该指针调用父类

```c++
#include <iostream>

class Base {
public:
    virtual void show() {
        std::cout << "Base::show()" << std::endl;
    }
};

class Derived : public Base {
public:
    void show() override {
        std::cout << "Derived::show()" << std::endl;
    }

    void callBaseShow() {
        Base::show();  // 显式调用基类版本
    }
};

int main() {
    Derived d;
    Base* ptr = &d;

    // 方法 1：在派生类内部显式调用基类版本
    d.callBaseShow();  // 输出 "Base::show()"

    // 方法 2：通过基类指针调用（仍然受多态影响）
     (*ptr).show();          // 调用 Derived::show()（多态）
    static_cast<Base*>(ptr)->show();  // 仍然调用 Derived::show()（因为 show() 是虚函数）上行转换也不行

    return 0;
}
```

